> 001硬盘备份与恢复_总览

> #Windows #Hypervisor #Linux #CFast卡 #CF卡

- [1 简介](#1%20%E7%AE%80%E4%BB%8B)
- [2 方式介绍](#2%20%E6%96%B9%E5%BC%8F%E4%BB%8B%E7%BB%8D)
- [3 更新日志](#3%20%E6%9B%B4%E6%96%B0%E6%97%A5%E5%BF%97)

# 1 简介

- 在实际的项目维运过程中，经常会遇到需要将整个系统镜像备份的需求，避免下一台设备使用的的时候需要重新进行繁琐的系统安装、软件安装、配置等操作。
- 常规的项目中，使用的是普通的CF卡，或者不带CF卡的紧凑型PLC，我们常常通过制作USB更新包或者生成二进制烧卡包来实现，这得益于贝加莱操作系统与应用的精简性。
- 当客户需要使用贝加莱工控机，或者使用Hypervisor等具有双系统的解决方案，整个方案的备份就会成为一个难以很好解决的问题。
- 对于项目恢复与备份，我们一般从两个角度进行，一是系统备份，二是硬盘备份。
- 对于系统备份，主要应用在Windows操作系统上，我们一般可以通过Ghost软件进行镜像，但若一个Windows操作系统具有多个硬盘分区，我们需要额外在cmd命令行中输入相应的参数来实现。
- 对于硬盘备份，这是大部分应用场景中需要的方案，对于现场的设备维运而言，往往面临的情况为设备级别的硬件更替以及维护，现场需要一种足够稳定，简单易用的解决方案，如果使用系统备份，则必然需要有一定的软件安装工作，而使用硬盘备份，备份的对象为一个硬件设备本身所有数据，相对使用较为简单。
- 对于硬盘备份，我们可以有多种方式实现，最常见的即为使用硬盘盒使用两块硬盘之间的脱机拷贝功能。但我们更多的使用的方式为，将硬盘备份为镜像，存储起来。
- 下表中列出了几种常用的方式，可进行参考。

# 2 方式介绍

| 方式 | Ghost镜像 | RUC(zp2) | RUC(zp3) | ⭐Macrium Reflect |
| ---- | ---- | ---- | ---- | ---- |
| 基本功能 | 对Windows进行备份 | 可对硬盘进行完整备份 | 可对硬盘进行完整备份 | 可对硬件进行完整备份 |
| 特点 | 具有压缩功能 | 不受操作系统限制 | 可进行压缩，减少镜像文件的大小 | 可支持U盘独立操作；<br><br>可支持压缩；<br><br>支持多操作系统等的备份还原 |
| 耗时时间 | 适中 | 适中 | 较长 | 较快 |
| 限制 | 只支持Windows操作系统；<br><br>若系统具有多个分区，需在CMD中增加ghost32.exe -NTEXACT | 生成的镜像大小为一比一，不压缩 | 若电脑性能不足，可能需要的时间极长 | 操作步骤多<br><br>只支持固态硬件、CFast卡 |
| 推荐程度 | 低 | 中 | 低 | 高 |

- 一般而言，对于例如使用了ARWin技术的设备，可使用Ghost镜像来实现。
- 但对于Linux操作系统、使用了Hypervisor方案，我们必须选择RUC的方式实现，或者使用Macrium Reflect软件实现。
- 如果存储设备为CF卡以及机械硬盘，则建议使用RUC软件来实现存储设备的备份与恢复。
- 若存在以下情况，存储设备为工控机中的固态硬盘，取出硬盘后还需进行拆卸与专业设备才能使用电脑读取，此时的唯一可靠解决方案为Macrium Reflect，使用此方案，仅需使用一个提前准备好的支持USB3.0的U盘，即可对一台工控机的数据进行备份与恢复。

# 3 更新日志

| 日期     | 修改人     | 修改内容     |
|:-----|:-----|:-----|
| 2023-12-06     | YuanZhiyi     | 初次创建     |
