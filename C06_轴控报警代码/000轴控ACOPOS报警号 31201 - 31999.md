# 31201： Di/Do 接口： 驱动器未就绪

- **描述**：
    - 使用"打开控制器"命令或在控制器处于活动状态时驱动器监视器出现运行时错误。
    - Di/Do 接口的 SDC PV "iDriveReady" 在"打开控制器"命令后定义的时间段内未设置，或者如果控制器处于活动状态，则不再设置为 true
- **反应**：
    - 查看错误码 [31249](#31249驱动器接口硬件模块不正常).
- **原因/补救措施**：
    - 检查 SDC Di/Do 接口 PV "iDriveReady"。
    - 请参阅错误号的过程 [31249](#31249驱动器接口硬件模块不正常).

## 应用案例

### 2023.07.03

- **现象** 使用 CANopen 接口的第三方驱动器，在办公室环境下能够正常使能与运动，但在现场实际设备上使用，无法使能，报警 31201 检查了 SDC 轴的配置与时间配置，没有问题
- **原因** 可能 CANopen 受外部干扰导致此问题
- **解决方式** 更换一根屏蔽更好的CANopen线缆。

# 31220：编码器错误：未配置编码器

- **描述**：
    - 编码器监视中的运行时错误。
    - 未配置正在使用的编码器。
- **反应**：
    - 不能使用编码器。
- **原因/补救措施**：
    - 检查 SDC 轴配置 PV（变量）。

# 31221： 编码器错误： 电缆干扰或信号干扰

- **描述**：
    - 使用"打开控制器"、"启动归位过程"命令或在控制器处于活动状态时，编码器监视中的运行时错误。
    - SDC PV"iActTime"不包含有效的时间戳。时间戳超出允许的时间窗口（没有实际位置的循环采样）。
    - SDC 编码器状态 PV "iEncOK" 不再为 TRUE。
- **反应**：
    - 请参阅后续错误。
    - 一旦编码器接口的 SDC PV 'iActTime' 和 'iEncOK' 在每个 SDC 周期中收到有效数据，操作即可恢复。
- **原因/补救措施**：
    - 检查编码器 PV 的 I/O 映射。
    - 检查映射SDC编码器PV的编码器硬件模块的错误状态。
    - 检查 SDC 轴配置 PV。
    - 编码器未连接。
    - 编码器电源或电源均未包含错误。
    - 编码器连接中断或有缺陷。
    - 检查编码器连接的接线。
    - 编码器有缺陷。
    - 由于硬件缺陷或干扰（连接断开、线路终止、接线错误、控制硬件有缺陷或故障）导致的操作不正常。

## 应用案例

### 2023.07.03

- **现象** AS 软件在线 Transfer 任意非 SDC 相关程序块的简单逻辑会导致 SDC 轴掉线，可以复位此错误，SDC I/O PVs 的 iLifeCnt 没有中断。 Transfer 时的选项为 Consistent installation
- **解决方式** 使用 SDC 轴时，尽量不要使用在线更新功能
- **出错后的处理**
    - ①复位所有轴控命令，包括 PowerON；
    - ②Acknowledge所有error后，重新PowerON，Home，轴可以正常运动。

# 31224：编码器接口：硬件模块不正常

- **描述**：
    - 使用"打开控制器"命令或控制器处于活动状态时，编码器硬件监视中的运行时错误。
    - 编码器接口的 SDC PV "iLifeCnt" 不会随每个 SDC 周期而改变。编码器硬件模块不会在每个 SDC 周期中提供新值。
- **反应**：
    - 请参阅后续错误。
    - 如果编码器接口的 SDC PV "iLifeCnt" 随每个 SDC 周期再次开始更改，则可以再次激活控制器。
- **原因/补救措施**：
    - 检查 SDC 编码器接口特定的 PV。
    - 请参阅错误号的过程 [31249](#31249驱动器接口硬件模块不正常).

## 应用案例

### 2023.07.04

- **现象** ACOPOSmicro 运行超过2分钟后报6057/31224/31249/31250故障
- **解决方式** 到现场检测发现 PPC2100的 POWERLINK 的其中一个网口接到了以太网通讯的路由器上，拆掉这网线后，把 BC0083的最后一个模块的 BT9100到 ACOPOSmicro 的 X2X 通讯线改为贝加莱原装的通讯线。

# 31240：当前硬件类型不允许使用归位（Home）过程模式

- **描述**：
    - 使用"开始归位过程"命令响应错误。配置了 SDC 轴不支持的归位模式（"ncDCM"或"ncDCM + ncCORRECTION"）
- **反应**：
    - 归位（Home）过程未启动。
    - 未设置"归位有效"状态。
- **原因/补救措施**：
    - 使用"ncDCM"或"ncDCM + ncCORRECTION"以外的归位(Homing)模式。

# 31247：驱动器接口：未从硬件模块设置 DrvOK

- **描述**：
    - 使用"打开控制器"命令或在控制器处于活动状态时驱动器监视器出现运行时错误。
    - 驱动器接口的 SDC PV "iDrvOK" 在"打开控制器"命令后定义的时间段内未设置，或者如果控制器处于活动状态，则不再设置为 true。
- **反应**：
    - 查看错误码 [31249](#31249驱动器接口硬件模块不正常).
- **原因/补救措施**：
    - 检查 SDC 驱动器接口 PV 'iDrvOK'。
    - 请参阅错误号 [31249](#31249驱动器接口硬件模块不正常).

# 31248：触发接口：硬件模块不正常

- **描述**：
    - 使用"打开控制器"命令或在控制器处于活动状态时触发硬件监视时出现运行时错误。
    - 触发接口的 SDC PV "iLifeCnt" 不会随每个 SDC 周期而更改。触发硬件模块不会在每个 SDC 周期内提供新值。
- **反应**：
    - 查看错误码 [31249](#31249驱动器接口硬件模块不正常).
- **原因/补救措施**：
    - 检查 SDC 触发接口特定的 PV。
    - 请参阅错误号的过程 [31249](#31249驱动器接口硬件模块不正常).

# 31249：驱动器接口：硬件模块不正常

- **描述**：
    - 使用"打开控制器"命令或控制器处于活动状态时驱动器硬件监视中的运行时错误。
    - 驱动器接口的 SDC PV "iLifeCnt" 不会随每个 SDC 周期而更改。驱动器硬件模块不会在每个 SDC 周期内提供新值。
- **反应**：
    - 当"打开控制器"命令时：
        - 启动过程将被取消，控制器未打开。
    - 当控制器处于活动状态时：
        - 移动停止，轴限制和关闭控制器。
        - 设置 STOP_ERR_DECEL_RAMP=ncCTRL_OFF：通过立即关闭控制器来中止移动。ODriveEnable 用于请求关闭电源部分。
- **原因/补救措施**：
    - 检查 SDC 驱动器接口特定的 PV。
    - 程序：
        - 1 检查 SDC 轴配置 PV
        - 2 检查 PV 的 I/O 映射。
        - 3 检查映射 SDC PV 的硬件模块的错误状态。
        - 4 检查时间设置。
        - 由于硬件缺陷或干扰（连接断开、线路终止、接线错误、控制硬件有缺陷或故障）导致的操作不正常。

## 应用案例

### 2023.07.04

- **现象** ACOPOSmicro 运行超过2分钟后报6057/31224/31249/31250故障
- **解决方式** 到现场检测发现PPC2100的POWERLINK的其中一个网口接到了以太网通讯的路由器上，拆掉这网线后，把BC0083的最后一个模块的BT9100到ACOPOSmicro的X2X通讯线改为贝加莱原装的通讯线。

# 31250： Di/Do 接口： 硬件模块不正常

- **描述**：
    - 使用"打开控制器"命令或控制器处于活动状态时的数字 I/O 硬件监视中的运行时错误。
    - SDC PV之一的"iLifeCnt..."的 Di/Do 接口不会随每个 SDC 周期而更改。其中一个数字 I/O 硬件模块不会在每个 SDC 周期内提供新值。
- **反应**：
    - 查看错误码 [31249](#31249驱动器接口硬件模块不正常).
- **原因/补救措施**：
    - 检查 SDC Di/Do 接口特定的 PV。
    - 请参阅错误号 [31249](#31249驱动器接口硬件模块不正常).

## 应用案例

### 2022.01.12

- 硬件是 Micro 100D 步进电机，报31250
- **现象：** 现场检查报警历史为31250 断伺服24V 电源报错29209，断80PS 电源报错29209，断 X2X 报31250。
- **结论：** X2X 通讯问题
- **排查方式：** 逐个检查伺服的X2X连线，部分伺服间的连线存在用手轻微晃动即报错的问题，并且全部一起报错。检查接线，X2X接线的两个插头接反，防呆口会导致链接不可靠。 逐个检查X2X连接线，有两个接反，并且接反的线头，用手晃动会报警。

### 2023.07.04

- **现象** ACOPOSmicro 运行超过2分钟后报6057/31224/31249/31250故障
- **解决方式** 到现场检测发现PPC2100的POWERLINK的其中一个网口接到了以太网通讯的路由器上，拆掉这网线后，把BC0083的最后一个模块的BT9100到ACOPOSmicro的X2X通讯线改为贝加莱原装的通讯线。

# 31260：电流轴配置只能在仿真模式下进行

- **描述**：
    - 使用"打开控制器"命令响应错误。
    - 所使用的SDC轴只能在仿真模式下使用。SDC 轴要么只是模拟的轴，要么没有提供 SDC 轴配置 PV。
- **反应**：
    - 启动过程将被取消，控制器未打开。
- **原因/补救措施**：
    - 检查 SDC 轴配置 PV 的名称，以防存在 SDC 轴，并且 SDC 轴应该不仅仅是一个模拟轴。
    - 如果 SDC 轴不应只是模拟轴，请检查 NC 映射表中"其他数据"字段中的条目。
    - 启用仿真模式。

# 31261： 不允许更改伺服驱动器调整模式

- **描述**：
    - 更改伺服驱动器调整模式时的响应错误。
    - 新模式对于配置的 SDC 轴无效，或者模式已更改。
- **反应**：
    - 伺服驱动器调整模式未更改。
- **原因/补救措施**：
    - 伺服驱动调节模式只能更改一次。
    - 使用对配置的 SDC 轴有效的伺服驱动器调整模式。

# 📋回到总览页

[000轴控ACOPOS报警号](000轴控ACOPOS报警号.md)
